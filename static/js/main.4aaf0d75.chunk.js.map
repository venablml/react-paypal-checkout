{"version":3,"sources":["pages/login.js","utils/bllingPlan.js","utils/subscription.js","pages/admin.js","pages/checkout.js","App.js","reportWebVitals.js","index.js"],"names":["Login","useEffect","console","log","window","paypal","use","login","render","id","payload","createPlan","axios","post","headers","then","d","catch","e","error","subscribe","Admin","onClick","clientId","Checkout","useState","accessToken","setAccessToken","user","setUser","loaded","setLoaded","authorizationCode","URLSearchParams","useLocation","search","get","script","document","createElement","src","addEventListener","body","appendChild","setTimeout","encodedData","btoa","params","append","getAccessToken","data","access_token","response","content","name","email_address","App","className","to","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4aaf0d75.chunk.js","sourcesContent":["\nimport React, {  useEffect } from 'react';\n\n\n\nconst loginWithPaypal = () => {\n  console.log(\"Login with paypal\")\n  window.paypal.use( ['login'], login => {\n    login.render ({\n      \"appid\":\"AStVxVYVevg9Opp0E0XVkUfOBKOvPJ9lh6psz2178uR8fiyzx9V6Tu8iceWMIvEo9QDuM-5a3EHizASm\",\n      \"authend\":\"sandbox\",\n      \"scopes\":\"openid profile email address https://uri.paypal.com/services/paypalattributes\",\n      \"containerid\":\"lippButton\",\n      \"responseType\":\"code\",  \n      \"locale\":\"en-us\",\n      \"buttonType\":\"LWP\",\n      \"buttonShape\":\"pill\", \n      \"buttonSize\":\"lg\",\n      \"fullPage\":\"true\",\n      \"returnurl\":\"https://venablml.github.io/react-paypal-checkout/\"\n    })\n  })\n}\n\n\nconst Login = () => {\n  useEffect(() => {\n    loginWithPaypal();\n  });\n  return  (\n    <div>\n      <span id='lippButton'></span>\n    </div>\n   )\n}\n\nexport default Login\n  \n\n","import axios from 'axios'\n\nconst billingUrl = \"https://api-m.sandbox.paypal.com/v1/billing/plans\"\nconst productId = \"PROD-3EE93122GD2383205\"\nconst payload = {\n  \"product_id\": productId,\n  \"name\": \"HC Contract 122121\",\n  \"description\": \"Something cool\",\n  \"status\": \"ACTIVE\",\n  \"billing_cycles\": [\n    {\n      \"frequency\": {\n        \"interval_unit\": \"MONTH\",\n        \"interval_count\": 1\n      },\n      \"tenure_type\": \"REGULAR\",\n      \"sequence\": 1,\n      \"total_cycles\": 12,\n      \"pricing_scheme\": {\n        \"fixed_price\": {\n          \"value\": \"3\",\n          \"currency_code\": \"USD\"\n        }\n      }\n    }\n  ],\n  \"payment_preferences\": {\n    \"auto_bill_outstanding\": true,\n    \"setup_fee_failure_action\": \"CONTINUE\",\n    \"payment_failure_threshold\": 3\n  },\n  \"taxes\": {\n    \"percentage\": \"10\",\n    \"inclusive\": true\n  }\n}\nconst createBillingPlan = () =>{\n  axios.post(billingUrl,payload, {\n    headers: {\n    'Authorization': 'Bearer A21AALa4G_rgZZ8kPhCdmGStS0TllHPjcK2Sii8oDqIuhhnLl4ar42IGLwyoKJ5SRBC5HtPssoj1GYM2S8f-nlgf9PgRIGSmA'\n    }\n},).then(d => console.log(\"data \", d)).catch(e => console.error(\"Error creating plan: \" ,e))\n}\n\nexport {createBillingPlan}","import axios from 'axios'\n\nconst subscriptionUrl = \"https://api-m.sandbox.paypal.com/v1/billing/subscriptions\"\nconst planId = \"P-76F46997MD275952DMC7AHGI\"\nconst payload = {\n  \"plan_id\": planId,\n  \"start_time\": \"2021-06-10T15:32:00Z\",\n  \"subscriber\": {\n    \"name\": {\n      \"given_name\": \"John\",\n      \"surname\": \"Doe\"\n    },\n    \"email_address\": \"customer@example.com\",\n    \"shipping_address\": {\n      \"name\": {\n        \"full_name\": \"John Doe\"\n      },\n      \"address\": {\n        \"address_line_1\": \"2211 N First Street\",\n        \"address_line_2\": \"Building 17\",\n        \"admin_area_2\": \"San Jose\",\n        \"admin_area_1\": \"CA\",\n        \"postal_code\": \"95131\",\n        \"country_code\": \"US\"\n      }\n    }\n  },\n  \"application_context\": {\n    \"brand_name\": \"AON\",\n    \"locale\": \"en-US\",\n    \"shipping_preference\": \"SET_PROVIDED_ADDRESS\",\n    \"user_action\": \"SUBSCRIBE_NOW\",\n    \"payment_method\": {\n      \"payer_selected\": \"PAYPAL\",\n      \"payee_preferred\": \"IMMEDIATE_PAYMENT_REQUIRED\"\n    },\n    \"return_url\": \"https://venablml.github.io/react-paypal-checkout/done\",\n    \"cancel_url\": \"https://venablml.github.io/react-paypal-checkout/cancel\"\n  }\n}\n\nconst createSubscription = () =>{\n  axios.post(subscriptionUrl,payload, {\n    headers: {\n    'Authorization': 'Bearer A21AALa4G_rgZZ8kPhCdmGStS0TllHPjcK2Sii8oDqIuhhnLl4ar42IGLwyoKJ5SRBC5HtPssoj1GYM2S8f-nlgf9PgRIGSmA'\n    }\n},).then(d => console.log(\"data \", d)).catch(e => console.error(\"Error creating plan: \" ,e))\n}\n\nexport {createSubscription}","import {createBillingPlan} from '../utils/bllingPlan'\nimport {createSubscription} from '../utils/subscription'\n\n\nconst createPlan = () => {\n  createBillingPlan();\n}\n\nconst subscribe = () => {\n  createSubscription()\n}\nconst Admin = () => {\n  return (\n    <div>\n      <div>\n        <button onClick ={createPlan}>Create plan</button>\n      </div>\n   <div>\n    <button onClick ={subscribe}>Subscribe</button>\n    </div>\n    </div>\n\n  )\n}\n\nexport default Admin","import {\n  useLocation\n} from \"react-router-dom\";\nimport React, {  useEffect, useState } from 'react';\nimport ReactDOM from \"react-dom\"\nimport axios from 'axios'\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\nconst clientId = 'AStVxVYVevg9Opp0E0XVkUfOBKOvPJ9lh6psz2178uR8fiyzx9V6Tu8iceWMIvEo9QDuM-5a3EHizASm';\n\nconst getAccessToken = (authorizationCode) =>{\n  const url = \"https://api-m.sandbox.paypal.com/v1/oauth2/token\"\n  const clientSecret = 'EFzxa_5522GaPABkWP17u9yX3MAh8FHK_66orbNK1EOgwzEx0h6uGOmrSKG7vAc15KhDrTRJMjA8j9ar';\n  const encodedData = window.btoa(clientId + ':' + clientSecret);\n  \n  const params = new URLSearchParams();\n  params.append('grant_type', 'authorization_code');\n  params.append('code', authorizationCode);\n\n  return axios.post(url,params, {headers:{\n    \"Authorization\" :\"Basic \" + encodedData  }})\n}\n\n\n\n\n\nconst Checkout = () => {\n  const [accessToken, setAccessToken] = useState(null);\n  const [user, setUser] = useState(null)\n  const [loaded, setLoaded] = useState(false)\n\n  let query = useQuery();\n  const authorizationCode = query.get('code')\n  useEffect(() => {\n    const script = document.createElement(\"script\")\n    script.src =`https://www.paypal.com/sdk/js?client-id=${clientId}`\n    script.addEventListener(\"load\",() => setLoaded(true))\n    document.body.appendChild(script)\n    if(loaded){\n      setTimeout(() =>{\n        console.log(\"We loaded the script\")\n      })\n    }\n  })\n  useEffect(() => {\n    if(authorizationCode){\n      console.log(\"Get access code\")\n      getAccessToken(authorizationCode).then(d => {\n        console.log(\"data -\", d.data)\n        setAccessToken(d.data.access_token)\n      })\n    } \n   \n  },[authorizationCode]);\n  useEffect(() => { \n    const url =\"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo?schema=paypalv1.1\"\n    if(accessToken !=null){\n      console.log(\"Get user info now\")\n      axios.get(url, {headers:{\n        \"Authorization\" : \"Bearer \" + accessToken,\n        \"Content-type\": \"application/json\"\n      }}).then(response =>{\n        console.log(\"USer info = \", response.data)\n        setUser(response.data)\n      } )\n    }\n    \n  },[accessToken]);\n \n  const createOrder = () =>{\n    const url = \"https://api-m.sandbox.paypal.com/v2/checkout/orders\"\n    const payload = {\n      \"intent\":\"CAPTURE\",\n      \"payer\" : {\n        \"email_address\" : user.email_address\n      },\n      \"purchase_units\": [\n        {\n          \"amount\": {\n            \"currency_code\": \"USD\",\n            \"value\": \"100.00\"\n          }\n        }\n      ]\n    }\n    axios.post(url, payload, {headers:{\n      \"Authorization\" : \"Bearer \" + accessToken,\n      \"Content-type\": \"application/json\"\n    }}).then(response =>{\n      console.log(\"Created order = \", response.data)\n     \n    } )\n  \n  }\n  let content = null\n  if (user) {\n    content = <div>Name : {user.name} \n      <button onClick = {createOrder}>Order Now</button>\n    </div>\n  }\n  else {\n    content = <div>Please log in</div>\n  }\n  return <main>{content}</main>\n    \n}\n\nexport default Checkout","import './App.css';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";    \nimport Login from './pages/login'\nimport Admin from './pages/admin'\nimport Checkout from './pages/checkout'\n\n\n\nfunction App() {\n  return (\n    <Router>\n    <div className=\"App\">\n    <Link to ='/login'>Login</Link>\n    <Link to ='/admin' >Admin</Link>\n   \n     <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/admin\">\n            <Admin />\n          </Route>\n          <Route path=\"/\">\n            <Checkout />\n          </Route>\n          \n        </Switch>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}